%!TEX TS-program = xelatex
%!languagre = zh
\documentclass{ctexart}
%这是main文件，请不要修改也不要删除，直接在subfile中编写和编译即可。
\usepackage[v1]{subfiles}
\usepackage{forloop}
\usepackage{tikz}
\usepackage{tikz-cd}
\usepackage{graphicx}
\usepackage{fixdif}
\usepackage{titling}
\setlength{\droptitle}{-4em}
\usepackage{amsmath,amsthm,amscd,amsfonts,mathrsfs,amssymb,mathabx,bm,mathtools}
\usepackage{enumerate} %tablists中的tabenum环境可实现一行多个小题自动编号
\usepackage{hyperref}
\usepackage{fancyhdr}
\pagestyle{empty}
\usepackage{geometry} %页边距
\geometry{left=3cm,right=3cm,top=1.2cm,bottom=1.8cm}
\usepackage{float}
\newtheorem{theorem}{定理}
\newtheorem{lemma}{引理}
\newtheorem{defination}{定义} 
\newtheorem{corollary}{推论}
\newtheorem{example}{例}
\newtheorem{remark}{注}
\renewcommand{\(}{\begin{math}\displaystyle}
\renewcommand{\)}{\end{math}}
\newcommand{\filename}{main}
\let\abslabel\label
\let\absref\ref
\let\abseqref\eqref
\newcounter{files}
\renewcommand{\label}[1]{\abslabel{\expandafter\filename:#1}}
\begin{document}
\renewcommand{\ref}[1]{\absref{\expandafter\filename:#1}}
\renewcommand{\eqref}[1]{\abseqref{\expandafter\filename:#1}}
\forloop{files}{1}{\value{files}<28}{%
	\IfFileExists{subfile\thefiles.tex}{%
		\subfile{subfile\thefiles.tex}%
		\newpage%
	}{}%
}

\end{document}
